# ACN Production Environment Configuration
# ==========================================
# Copy this file to .env on your production server and fill in ALL values.
# Fields marked [REQUIRED] must be set — the service will refuse to start without them.
# Fields marked [RECOMMENDED] are strongly advised for security.
# Never commit the actual .env file to version control.

# ─────────────────────────────────────────────
# Service
# ─────────────────────────────────────────────
SERVICE_NAME=ACN
SERVICE_VERSION=0.1.0
HOST=0.0.0.0
PORT=8000

# [REQUIRED] Must be false in production
DEV_MODE=false
ENABLE_DOCS=false         # set true on staging if needed

# ─────────────────────────────────────────────
# Redis  [REQUIRED]
# ─────────────────────────────────────────────
REDIS_URL=redis://:YOUR_REDIS_PASSWORD@redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=YOUR_REDIS_PASSWORD   # [REQUIRED] strong random password

# ─────────────────────────────────────────────
# Backend & Gateway  [REQUIRED]
# ─────────────────────────────────────────────
BACKEND_URL=https://api.yourdomain.com
GATEWAY_BASE_URL=https://acn.yourdomain.com

# ─────────────────────────────────────────────
# Service-to-service authentication  [REQUIRED]
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# ─────────────────────────────────────────────
INTERNAL_API_TOKEN=REPLACE_WITH_STRONG_RANDOM_TOKEN

# ─────────────────────────────────────────────
# Auth0  [REQUIRED in production]
# ─────────────────────────────────────────────
AUTH0_DOMAIN=your-tenant.auth0.com
AUTH0_AUDIENCE=https://api.agentplanet.com

# ─────────────────────────────────────────────
# Webhooks  [RECOMMENDED]
# ─────────────────────────────────────────────
WEBHOOK_URL=https://api.yourdomain.com/api/acn/webhook
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
WEBHOOK_SECRET=REPLACE_WITH_STRONG_RANDOM_SECRET
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRY_COUNT=3
WEBHOOK_RETRY_DELAY=5

BILLING_WEBHOOK_URL=https://api.yourdomain.com/api/billing/webhook

# ─────────────────────────────────────────────
# CORS  [REQUIRED] — restrict to your actual origins
# ─────────────────────────────────────────────
CORS_ORIGINS=["https://yourdomain.com","https://app.yourdomain.com"]

# ─────────────────────────────────────────────
# Observability
# ─────────────────────────────────────────────
LOG_LEVEL=INFO
OTEL_ENABLED=false

# ─────────────────────────────────────────────
# Labs features
# ─────────────────────────────────────────────
LABS_ONBOARDING_ENABLED=true

# ─────────────────────────────────────────────
# Grafana (used by docker-compose monitoring profile)
# ─────────────────────────────────────────────
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=REPLACE_WITH_STRONG_GRAFANA_PASSWORD
